<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>MIC</title>
		<script src="modernizr.js"></script>
		<script type="text/javascript">
			window.addEventListener("load", eventWindowLoaded, false);
			
			var Debugger = function() {};
			Debugger.log = function(message) {
				try {
					console.log(message);
				}catch(exception){
					return;
				}
			}
			
			function eventWindowLoaded() {
				canvasApp();
			}
			
			function canvasApp() {
	
				if(!canvasSupport) {
					return;
				}
				
				var theCanvas = document.getElementById("canvasOne");
					
				if(!theCanvas) {
					return;
				}
					
				var context = theCanvas.getContext("2d");
				
				drawScreen();
				
				function drawScreen() {
				
					// base frame
					var frameX = 1;
					var frameY = 1;
					var frameWidth = theCanvas.width-2;
					var frameHeight = theCanvas.height-2;
					
					// header
					var headerHeight = 30;
					var headerX = frameX;
					var headerY = frameY;
					var headerWidth = frameWidth;
					
					// footer
					var footerHeight = 30;
					var footerX = frameX;
					var footerY = frameHeight-footerHeight;
					var footerWidth = frameWidth;
					
					// main screen
					var mainScreenX = frameX;
					var mainScreenY = headerY + headerHeight;
					var mainScreenWidth = frameWidth;
					var mainScreenHeight = footerY;
					
					// hour lines
					var hourLabelY = mainScreenY + 10;
					var hourLineY = mainScreenY + 15;
					var hourLineHeight = mainScreenHeight - 5;
					
					drawBackground();
					
					function drawBackground() {
						context.strokeStyle = "black";
						drawFrame();
						drawHeader();
						drawFooter();
						
						var hourLineXs = calculateHourLineXs();
						for(var i=0; i<hourLineXs.length; i++) {
							drawHourLabel(hourLineXs[i],getHourLabel(i+1));
							drawHourLine(hourLineXs[i]);
						}
					}
					
					function drawFrame() {
						context.strokeRect(frameX,frameY,frameWidth,frameHeight);
					}
					
					function drawHeader() {
						context.strokeRect(headerX,headerY,headerWidth,headerHeight);
					}
					
					function drawFooter() {
						context.strokeRect(footerX,footerY,footerWidth,footerHeight);
					}
					
					function drawHourLine(x) {
						context.strokeStyle = "black";
						context.lineWidth = .5;
						context.setLineDash([10,3]);
						context.beginPath();
						context.moveTo(x, hourLineY);
						context.lineTo(x, hourLineHeight);
						context.stroke();
						context.closePath();
					}
					
					function drawHourLabel(x,hour) {
						context.font = "10px serif"
						context.fillStyle = "black";
						var metrics = context.measureText(hour);
						var textWidth = metrics.width;
						context.fillText (hour, x-textWidth/2, hourLabelY);
					}
					
					function calculateHourLineXs() {
						var hourLineXs = new Array();
						
						var x = 0;
						var tempX;
						var step = mainScreenWidth/30;
						for(var i=0; i<29; i++) {
							x += step;
							tempX = Math.floor(x) + .5;
							hourLineXs[i] = tempX;
						}
						
						return hourLineXs;
					}
					
					function getHourLabel(hour) {
						var label = "";
						if(hour < 10) {
							label += "0";
						}
						label += hour;
						label += ":00";
						return label;
					}
				}
				
				function canvasSupport() {
					return Modernizr.canvas;
				}
				
			}
		</script>
	</head>
	<body>
		<div>
			<canvas id="canvasOne" width="1300" height="600">
			Your browser doesn't support HTML5 Canvas!
			</canvas>
		</div>
	</body>
</html>